import{_ as s,c as a,o as l,d as e}from"./app.e652fc7f.js";const C='{"title":"shallowReadonly","description":"","frontmatter":{},"headers":[],"relativePath":"vue3-analysis/reactive/shallowReadonly.md"}',n={},t=e(`<h1 id="shallowreadonly" tabindex="-1">shallowReadonly <a class="header-anchor" href="#shallowreadonly" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u521B\u5EFA\u4E00\u4E2A\u81EA\u8EAB<code>property</code>\u4E3A\u53EA\u8BFB\u7684<code>proxy</code>\uFF0C\u4F46\u5D4C\u5957\u5BF9\u8C61\u4E0D\u662F<code>readonly</code></p></div><div class="language-ts"><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">shallowReadonly</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">bar</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">num</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">++</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">foo) </span><span style="color:#676E95;font-style:italic;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bar</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">++</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bar</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">num) </span><span style="color:#676E95;font-style:italic;">// 2</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">shallowReadonly</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Readonly</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createReactiveObject</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">shallowReadonlyHandlers</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">shallowReadonlyCollectionHandlers</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">shallowReadonlyMap</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>reactive</code>\u3001<code>shallowReactive</code>\u3001<code>readonly</code>\u3001<code>shallowReadonly</code>\u90FD\u662F\u8C03\u7528<code>createReactiveObject</code>\u521B\u5EFA<code>proxy</code>\uFF0C\u56DB\u8005\u5BF9\u5E94\u7740\u4E0D\u540C\u7684\u7F13\u5B58\u5BF9\u8C61\u53CA<code>proxy handlers</code></p><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">reactive</th><th style="text-align:center;">shallowReactive</th><th style="text-align:center;">readonly</th><th style="text-align:center;">shallowReadonly</th></tr></thead><tbody><tr><td style="text-align:center;">\u7F13\u5B58\u5BF9\u8C61</td><td style="text-align:center;"><code>reactiveMap</code></td><td style="text-align:center;"><code>shallowReactiveMap</code></td><td style="text-align:center;"><code>readonlyMap</code></td><td style="text-align:center;"><code>shallowReadonlyMap</code></td></tr><tr><td style="text-align:center;"><code>proxy hanlders</code></td><td style="text-align:center;"><code>mutableHandlers</code><br> <code>mutableCollectionHandlers</code></td><td style="text-align:center;"><code>shallowReactiveHandlers</code><br> <code>shallowCollectionHandlers</code></td><td style="text-align:center;"><code>readonlyHandlers</code><br> <code>readonlyCollectionHandlers</code></td><td style="text-align:center;"><code>shallowReadonlyHandlers</code><br> <code>shallowReadonlyCollectionHandlers</code></td></tr><tr><td style="text-align:center;">shallow</td><td style="text-align:center;">false</td><td style="text-align:center;">true</td><td style="text-align:center;">false</td><td style="text-align:center;">true</td></tr><tr><td style="text-align:center;">readonly</td><td style="text-align:center;">false</td><td style="text-align:center;">false</td><td style="text-align:center;">true</td><td style="text-align:center;">true</td></tr></tbody></table>`,6),o=[t];function p(c,r,y,d,D,F){return l(),a("div",null,o)}var A=s(n,[["render",p]]);export{C as __pageData,A as default};
